!function(u){u.fn.stupidtable=function(r){return this.each(function(){var t=u(this);r=r||{},r=u.extend({},u.fn.stupidtable.default_sort_fns,r),t.data("sortFns",r),t.on("click.stupidtable","thead th",function(){u(this).stupidsort()})})},u.fn.stupidsort=function(t){var r,n=u(this),s=0,o=u.fn.stupidtable.dir,i=n.closest("table"),d=n.data("sort")||null;if(null!==d)return n.parents("tr").find("th").slice(0,u(this).index()).each(function(){var t=u(this).attr("colspan")||1;s+=parseInt(t,10)}),1==arguments.length?r=t:(r=t||n.data("sort-default")||o.ASC,n.data("sort-dir")&&(r=n.data("sort-dir")===o.ASC?o.DESC:o.ASC)),i.trigger("beforetablesort",{column:s,direction:r}),i.css("display"),setTimeout(function(){var e=[],a=i.data("sortFns")[d],t=i.children("tbody").children("tr");t.each(function(t,r){var a=u(r).children().eq(s),n=a.data("sort-value");void 0===n&&(n=a.text(),a.data("sort-value",n)),e.push([n,r])}),e.sort(function(t,r){return a(t[0],r[0])}),r!=o.ASC&&e.reverse(),t=u.map(e,function(t){return t[1]}),i.children("tbody").append(t),i.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),n.data("sort-dir",r).addClass("sorting-"+r),i.trigger("aftertablesort",{column:s,direction:r}),i.css("display")},10),n},u.fn.updateSortVal=function(t){var r=u(this);return r.is("[data-sort-value]")&&r.attr("data-sort-value",t),r.data("sort-value",t),r},u.fn.stupidtable.dir={ASC:"asc",DESC:"desc"},u.fn.stupidtable.default_sort_fns={int:function(t,r){return parseInt(t,10)-parseInt(r,10)},float:function(t,r){return parseFloat(t)-parseFloat(r)},string:function(t,r){return t.localeCompare(r)},"string-ins":function(t,r){return t=t.toLocaleLowerCase(),r=r.toLocaleLowerCase(),t.localeCompare(r)}}}(jQuery);