!function(e,a){var s={defaultValue:a,classFocussed:"__focussed",classActive:"__active",classSelectConfigured:"__configured"};e.fn.inputFocus=function(t){var l=e.extend({},s,t),c={focus:function(){e(this).parent().addClass(l.classFocussed+" "+l.classActive)},blur:function(){e(this).parent().removeClass(l.classFocussed)},release:function(){var a=e(this);a.parent().toggleClass(l.classActive,""+a.val()!="")}};return this.each(function(){var s=e(this);if(s.on("focus",c.focus).on("blur",c.blur),s.is("select")){if(""!==s.children(":first-child").prop("value")){var t=s.parent().find("label").text(),r=e("<option/>").text(t).attr("data-placeholder","true").prop("value",""),n=s[0].selectedIndex,d=!1;(0>n||0===n&&s.children(":first-child").attr("selected")===a)&&(d=!0),s.prepend('<optgroup label="" data-placeholder="true" />').prepend(r),d&&r.prop("selected",!0),r.attr("disabled","disabled")}s.on("blur change",function(){var e=""!==s.val();s.parent().toggleClass(l.classActive,e),e&&r&&r.attr("disabled","disabled")}),s.parent().addClass(l.classSelectConfigured)}else s.on("blur change",c.release),s.data("default-value","")}).trigger("change")}}(jQuery);