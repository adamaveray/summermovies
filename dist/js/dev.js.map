{"version":3,"names":[],"mappings":"","sources":["dev.js"],"sourcesContent":["(function($){\n\tvar $head\t= $('head'),\n\t\t$body\t= $('body');\n\n\t$head.append('<link rel=\"stylesheet\" href=\"/css/index.php/dev.css\" />');\n\n\t// Display notice banner\n\tif(!window.location.hostname.match(/^dev\\d+\\.walkercorp\\.com\\.au$/)){\n\t\t$body.append('<div class=\"dev__indicator\">Development Site</div>');\n\t}\n\n\tvar notices\t\t= {},\n\t\thasNotices\t= false;\n\tfunction addNotice(type, message, $element){\n\t\thasNotices\t= true;\n\t\tif(!notices[type]){\n\t\t\tnotices[type]\t= {\n\t\t\t\tmessage:\tmessage,\n\t\t\t\t$elements:\t$()\n\t\t\t};\n\t\t}\n\n\t\tnotices[type].$elements\t= notices[type].$elements.add($element);\n\n\t\t$element.addClass('dev__invalid');\n\t}\n\n\t// Validate links\n\tvar $links\t= $('a');\n\t$links.each(function(){\n\t\tvar $link\t= $(this),\n\t\t\turl\t\t= $link.attr('href');\n\t\tif(url === undefined || url === '' || url === '#' || url.indexOf('javascript:') === 0){\n\t\t\taddNotice('invalid-link', 'Invalid link `href`', $link);\n\t\t}\n\t});\n\n\t// Validate images\n\tvar $images\t= $('img');\n\t$images.each(function(){\n\t\tvar $image\t= $(this),\n\t\t\talt\t\t= $image.attr('alt');\n\n\t\tif(!this.complete || (typeof this.naturalWidth != \"undefined\" && this.naturalWidth == 0) || $image.attr('src').match(/\\?placeholder=/)){\n\t\t\taddNotice('invalid-image[src]', 'Invalid image `src`', $image);\n\t\t}\n\n\t\tif(alt === undefined || alt === ''){\n\t\t\taddNotice('invalid-image[alt]', 'Invalid image `alt`', $image);\n\t\t}\n\t});\n\n\tif(!hasNotices){\n\t\treturn;\n\t}\n\n\t// Display list of notices\n\tvar $notices\t\t= $(document.createElement('div')).addClass('dev__notices'),\n\t\t$noticesList\t= $(document.createElement('ul')).addClass('dev__notices-list');\n\n\tfor(var type in notices){\n\t\tif(!notices.hasOwnProperty(type)){ continue; }\n\t\tvar notice\t= notices[type];\n\n\t\tvar $notice\t= $(document.createElement('li')).addClass('dev__notice');\n\n\t\tvar content\t= notice.message.replace(/`(.*?)`/g, '<code>$1</code>');\n\t\t$notice.html(content)\n\t\t\t   .data('notice', notice)\n\t\t\t   .append(' <span class=\"dev__notice__count\">'+notice.$elements.length+'</span>');\n\n\t\t$notice.appendTo($noticesList);\n\t}\n\n\t$noticesList.children().hover(function(){\n\t\tvar $notice\t= $(this),\n\t\t\tnotice\t= $notice.data('notice');\n\t\tnotice.$elements.addClass('dev__invalid--active');\n\t}, function(){\n\t\tvar $notice\t= $(this),\n\t\t\tnotice\t= $notice.data('notice');\n\t\tnotice.$elements.removeClass('dev__invalid--active');\n\t});\n\n\t$noticesList.appendTo($notices);\n\t$notices.appendTo($body);\n}(jQuery));\n"],"file":"dev.js"}